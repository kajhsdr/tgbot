# 更新日志

所有TGbot项目的显著变更都将记录在此文件中。

## [1.0.0] - 2025-03-15

### 新增

- 初始版本发布
- 实现京东Cookie管理功能
  - 从主青龙面板获取CK并保存到文件
  - 支持按pt_pin筛选CK
  - 支持将不同的CK保存到不同的文件中
- 实现IP白名单管理功能
  - 自动检测IP变动并更新白名单
  - 支持手动添加、删除和查询白名单
- 实现青龙面板交互功能
  - 支持配置多个青龙面板
  - 查询CK状态和管理面板CK
- 实现系统管理功能
  - 查看系统运行状态
  - 清理日志文件

## [1.1.0] - 2025-01-15

### 优化

- 重构HTTP请求处理逻辑，提高代码复用性
- 优化异常处理机制，增加更详细的错误日志
- 改进sync_ck_to_panels函数，使其更高效且保留原始备注
- 添加手动执行CK同步的命令功能
- 优化配置结构，使其更易于维护和扩展

### 修复

- 修复CK同步过程中可能丢失备注的问题
- 修复IP白名单更新失败时的错误处理
- 修复配置文件加载异常时的默认配置问题

## [1.2.0] - 2024-03-16

### 新增

- 增强的CK同步功能，支持为每个面板单独设置CK同步规则
- 新增`/syncck`命令，支持手动执行CK同步
- 新增`/ql`命令，用于管理新增青龙面板的CK

### 优化

- 改进配置文件结构，增加每个配置项的描述信息
- 优化日志输出格式，增加彩色日志支持
- 提升系统稳定性和错误恢复能力

### 修复

- 修复多面板同步时的并发问题
- 修复长时间运行可能导致的内存泄漏问题
- 修复特殊字符在CK处理中可能导致的问题

## [1.3.0] - 2024-04-13

### 新增

- 支持将不同的CK保存到不同的文件中，并可为每个文件设置筛选规则
- 增强的IP白名单管理，支持更多的IP操作命令

### 优化

- 进一步优化代码结构，提高可维护性
- 改进错误处理和日志记录机制
- 提升命令响应速度和用户体验

### 修复

- 修复某些情况下配置未正确应用的问题
- 修复定时任务可能重叠执行的问题
- 修复Redis连接异常时的错误处理